<kendo-grid (detailExpand)="detailExpanded($event)" [height]="800" kendoGridFocusable [imngODataGrid]="this">
  <ng-template kendoGridToolbarTemplate>
    <div class="d-flex justify-content-between">
      <h3>SaleOrders</h3>
      <div>
        <button type="button" title="Add SaleOrder" primary="true" (click)="addItem()" class="btn btn-primary mx-2">
          <span class="k-icon k-i-plus-circle"></span> Add SaleOrder
        </button>
        <button type="button" title="Export To PDF" kendoGridPDFCommand icon="file-pdf" class="mx-2">
          Export to PDF
        </button>
        <button type="button" title="Export To Excel" kendoGridExcelCommand icon="file-excel" class="mx-2">
          Export To Excel
        </button>
      </div>
    </div>
  </ng-template>

  <kendo-grid-column [field]="props.ID" [width]="100" filter="text">
    <ng-template kendoGridCellTemplate let-dataItem>
      {{ dataItem.id | slice:0:5 }}
    </ng-template>
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Id</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.SALES_ORDER_ID" [width]="100" filter="numeric">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Sales Order Id</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.REVISION_NUM" [width]="100" filter="numeric">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Revision Num</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.DATE" [width]="100" format="{0:MM/dd/yyyy}" filter="date">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Date</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.DUE_DATE" [width]="100" format="{0:MM/dd/yyyy}" filter="date">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Due Date</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.SHIP_DATE" [width]="100" format="{0:MM/dd/yyyy}" filter="date">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Ship Date</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.STATUS" [width]="100" filter="numeric">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Status</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.IS_ONLINE_ORDER" [width]="100" filter="boolean">
    <ng-template kendoGridCellTemplate let-dataItem>
      <div *ngIf="dataItem.is_online_order">
        <span class="text-success font-weight-bolder h2" placement="left" tooltip="Active">
          <span class="k-icon k-i-check-circle"></span>
        </span>
      </div>
    </ng-template>
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Is Online Order</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.NUM" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Num</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.PURCHASE_ORDER_NUM" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Purchase Order Num</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.ACCOUNT_NUM" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Account Num</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.CUSTOMER_ID" [width]="100" filter="text">
    <ng-template kendoGridCellTemplate let-dataItem>
      {{ dataItem.customer_id | slice:0:5 }}
    </ng-template>
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Customer ID</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.SHIP_TO_ADDRESS_ID" [width]="100" filter="text">
    <ng-template kendoGridCellTemplate let-dataItem>
      {{ dataItem.ship_to_address_id | slice:0:5 }}
    </ng-template>
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Ship To Address ID</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.BILL_TO_ADDRESS_ID" [width]="100" filter="text">
    <ng-template kendoGridCellTemplate let-dataItem>
      {{ dataItem.bill_to_address_id | slice:0:5 }}
    </ng-template>
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Bill To Address ID</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.SHIP_METHOD" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Ship Method</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.CREDIT_CARD_APPROVAL_CODE" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Credit Card Approval Code</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.SUB_TOTAL" [width]="100" filter="numeric">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Sub Total</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.TAX_AMT" [width]="100" filter="numeric">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Tax Amt</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.FREIGHT" [width]="100" filter="numeric">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Freight</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.TOTAL_DUE" [width]="100" filter="numeric">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Total Due</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.COMMENT" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Comment</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.SHIP_TO_ADDRESS" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Ship To Address</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.BILL_TO_ADDRESS" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Bill To Address</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [field]="props.CUSTOMER" [width]="100" filter="text">
    <ng-template class="header" kendoGridHeaderTemplate let-column>
      <span class="h6">Customer</span>
    </ng-template>
  </kendo-grid-column>
  <kendo-grid-column [width]="50">
    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
      <button type="button" class="btn btn-sm mr-1" (click)="editItem(dataItem)" placement="left" tooltip="Edit">
        <span class="k-icon k-i-edit"></span>
      </button>
      <button type="button" class="btn btn-sm mr-1" (click)="deleteItem(dataItem)" placement="left" tooltip="Delete">
        <span class="k-icon k-i-delete"></span>
      </button>
    </ng-template>
  </kendo-grid-column>

  <kendo-grid-pdf fileName="SaleOrders.pdf" [allPages]="false">
    <kendo-grid-pdf-margin top="1cm" left="1cm" right="1cm" bottom="1cm"></kendo-grid-pdf-margin>
  </kendo-grid-pdf>
  <kendo-grid-excel fileName="SaleOrders.xlsx" [fetchData]="excelData"></kendo-grid-excel>
</kendo-grid>
<aw-sale-order-add *ngIf="crudFacade.isNewActive$ | async"></aw-sale-order-add>
<aw-sale-order-edit *ngIf="crudFacade.isEditActive$ | async"></aw-sale-order-edit>
